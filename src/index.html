<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8"/>
    <meta content="width=device-width, initial-scale=1.0" name="viewport"/>
    <!-- Link your CSS file -->
    <title>ToDo App - Refreshed</title>
</head>
<body>
<div class="app-container">
    <!-- Sidebar for Navigation, Projects, and Actions -->
    <aside class="app-sidebar">
        <!-- Section for main navigation/views (Optional but good structure) -->
        <section class="sidebar-section sidebar-navigation">
            <h2>View Tasks</h2>
            <nav>
                <ul>
                    <!-- Example View Links - JS would handle clicks -->
                    <li>
                        <button class="nav-button" data-view="all" type="button">
                            All Tasks
                        </button>
                    </li>
                    <li>
                        <button class="nav-button" data-view="upcoming" type="button">
                            Upcoming
                        </button>
                    </li>
                    <!-- Add more views if needed -->
                </ul>
            </nav>
        </section>

        <!-- Section for Projects -->
        <section class="sidebar-section sidebar-projects">
            <header class="section-header">
                <h2>Projects</h2>
                <button id="add-project-btn" title="Add New Project" type="button">
                    +
                </button>
            </header>
            <ul id="static-project-list">
                <li>Default</li>
            </ul>
            <ul id=project-list></ul>

        </section>

        <!-- Section for Actions -->
        <section class="sidebar-section sidebar-actions">
            <h2>Actions</h2>
            <button class="button-primary" id="add-task-btn" type="button">
                Add New Task
            </button>
        </section>
    </aside>

    <!-- Main Content Area for Displaying Tasks -->
    <main class="app-content">
        <h1>Tasks</h1>
        <!-- Sections for each priority -->
        <section class="task-priority-section" id="priority-high">
            <h2>High Priority</h2>
            <ul class="task-list" id="high-priority-tasks">
                <!-- High priority task items will be added here by JS -->
            </ul>
        </section>

        <section class="task-priority-section" id="priority-medium">
            <h2>Medium Priority</h2>
            <ul class="task-list" id="medium-priority-tasks">
                <!-- Medium priority task items will be added here by JS -->
            </ul>
        </section>

        <section class="task-priority-section" id="priority-low">
            <h2>Low Priority</h2>
            <ul class="task-list" id="low-priority-tasks">
                <!-- Low priority task items will be added here by JS -->
            </ul>
        </section>
    </main>
</div>

<!-- Modals (can be placed outside the main container for stacking context) -->

<!-- Add/Edit Task Modal -->
<dialog class="modal" id="task-modal">
    <form id="task-form" method="dialog">
        <h2 id="task-modal-title">Add New Task</h2>
        <!-- Use unique IDs even for edit modal fields if reusing structure, JS will populate -->
        <div class="form-group">
            <label for="task-name-input">Task Name:</label>
            <input id="task-name-input" name="taskName" required type="text"/>
        </div>
        <div class="form-group">
            <label for="task-desc-input">Description:</label>
            <textarea
                    id="task-desc-input"
                    name="taskDescription"
                    rows="3"
            ></textarea>
        </div>
        <div class="form-group">
            <label for="task-due-input">Due Date:</label>
            <input id="task-due-input" name="taskDueDate" type="date"/>
        </div>
        <div class="form-group">
            <label for="task-priority-select">Priority:</label>
            <select id="task-priority-select" name="taskPriority">
                <option selected value="lowp">Low</option>
                <option value="medp">Medium</option>
                <!-- Example default -->
                <option value="highp">High</option>
            </select>
        </div>
        <div class="form-group">
            <label for="task-project-select">Project:</label>
            <select id="task-project-select" name="taskProject">
                <!-- Project options will be populated by JS -->
                <option selected value="Default">Default</option>
            </select>
        </div>
        <!-- Hidden input for task ID during edits - JS will manage this -->
        <input id="task-id-input" name="taskId" type="hidden"/>

        <div class="modal-controls">
            <button class="button-secondary" id="task-cancel-btn" type="button">
                Cancel
            </button>
            <button class="button-primary" id="task-submit-btn" type="submit">
                Save Task
            </button>
            <!-- Delete button specifically for edit mode - JS can show/hide -->
            <button
                    class="button-danger"
                    id="task-delete-btn"
                    style="display: none"
                    type="button"
            >
                Delete Task
            </button>
            <!-- Update button specifically for edit mode - JS can show/hide -->
            <button
                    class="button-primary"
                    id="task-update-btn"
                    style="display: none"
                    type="button"
            >
                Update Task
            </button>
        </div>
    </form>
</dialog>

<!-- Add Project Modal -->
<dialog class="modal" id="project-modal">
    <form id="project-form" method="dialog">
        <h2 id="project-modal-heading">Add New Project</h2>
        <div class="form-group">
            <label for="project-name-input">Project Name:</label>
            <input
                    id="project-name-input"
                    name="projectName"
                    required
                    type="text"
            />
        </div>
        <div class="modal-controls">
            <button
                    class="button-tertiary"
                    id="update-project-btn"
                    style="display: none"
                    type="button"
            >
                Update Project
            </button>
            <button
                    class="button-secondary"
                    id="add-project-cancel-btn"
                    type="button"
            >
                Cancel
            </button>
            <button class="button-primary" id="project-save-btn" type="submit">Add Project</button>
        </div>
    </form>
</dialog>

<!-- Link your JavaScript file -->
<script src="main.js" type="module"></script>
</body>
</html>
